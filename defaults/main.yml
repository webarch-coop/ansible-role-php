---
php_packages:
  - php-fpm
  - composer
  - php-curl
  - php-date
  - php-gd
  - php-gmp
  - php-json
  - php-imagick
  - php-intl
  - php-mbstring
  - php-mysql
  - php-pear
  - php-soap
  - php-xmlrpc
  - php-zip
phpfpm_packages:
  - bcmath
  - bz2
  - cli
  - ctype
  - curl
  - dom
  - exif
  - fileinfo
  - gd
  - geoip
  - iconv
  - imagick
  - imap
  - intl
  - json
  - mbstring
  - mysqli
  - opcache
  - pdo
  - posix
  - simplexml
  - sqlite3
  - readline
  - tokenizer
  - uploadprogress
  - xml
  - xmlreader
  - xmlrpc
  - xmlwriter
  - xsl
  - zip
phpfpm_disable_functions:
  - chgrp
  - chown
  - dl
  # The escapeshell functions are used by MediaWiki and Matomo
  # - escapeshellarg
  # - escapeshellcmd
  - exec
  - fsockopen
  - passthru
  - popen
  - posix_kill
  - posix_mkfifo
  - posix_setpgid
  - posix_setsid
  - posix_setuid
  # The proc_ functions are used by some features of MediaWiki
  # - proc_close
  # - proc_get_status
  # - proc_nice
  # - proc_open
  # - proc_terminate
  # The shell_exec function is used by Matomo
  # - shell_exec
  - show_source
  - socket_create
  - symlink
  - system
  - system_exec
  # Process Control is not compiled in by default on Debian so pcntl_
  # functions will not be available, if they need to be disabled this
  # is the list of the functions:
  # - pcntl_alarm
  # - pcntl_async_signals
  # - pcntl_errno
  # - pcntl_exec
  # - pcntl_fork
  # - pcntl_get_last_error
  # - pcntl_getpriority
  # - pcntl_setpriority
  # - pcntl_signal_dispatch
  # - pcntl_signal_get_handler
  # - pcntl_signal
  # - pcntl_sigprocmask
  # - pcntl_sigtimedwait
  # - pcntl_sigwaitinfo
  # - pcntl_strerror
  # - pcntl_wait
  # - pcntl_waitpid
  # - pcntl_wexitstatus
  # - pcntl_wifexited
  # - pcntl_wifsignaled
  # - pcntl_wifstopped
  # - pcntl_wstopsig
  # - pcntl_wtermsig
phpfpm_date_timezone: Europe/London
phpfpm_max_execution_time: 600
phpfpm_max_input_time: 600
phpfpm_max_input_nesting_level: 512
phpfpm_max_input_vars: 100000
phpfpm_memory_limit: 512M
phpfpm_post_max_size: 512M
phpfpm_upload_max_filesize: 512M
phpfpm_max_file_uploads: 60
phpfpm_allow_url_include: "On"
phpfpm_allow_local_infile: "Off"
phpfpm_session_save_path: "${TMPDIR}"
phpfpm_opcache_enable: 1
phpfpm_opcache_memory_consumption: 1024
phpfpm_opcache_interned_strings_buffer: 8
phpfpm_opcache_use_cwd: 1
phpfpm_opcache_validate_timestamps: 1
phpfpm_opcache_revalidate_freq: 2
phpfpm_opcache_validate_permission: 1
phpfpm_opcache_validate_root: 1
phpfpm_opcache_max_accelerated_files: 100000
phpfpm_www_pool_enabled: true
phpfpm_www_pool_pm: dynamic
phpfpm_www_pool_pm_max_children: 4
phpfpm_www_pool_pm_process_idle_timeout: 10s
phpfpm_www_pool_pm_start_servers: 1
phpfpm_www_pool_pm_min_spare_servers: 1
phpfpm_www_pool_pm_max_spare_servers: 1
phpfpm_www_pool_pm_max_requests: 1000
# if this isn't set then the status is disabled
# phpfpm_www_pool_pm_status_path: /status
# if this isn't set then the ping is disabled
# phpfpm_www_pool_ping_path: /ping
phpcli_allow_local_infile: "Off"
# Enable email to root with results of grepping for pm.max_children
phpfpm_log_grep: true
phpfpm_log: "/var/log/php{{ phpfpm_version }}-fpm.log"
...
